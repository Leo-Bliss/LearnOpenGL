# cubeMap

## 如果最先先绘制skybox, 为什么要关闭深度写入?
+ 为了让skybox永远在其他对象之后，即永远作为其他对象的背景

##  绘制skybox时view矩阵有什么需要特别注意的点？
+ 要去除平移变换

## skybox的渲染优化
+ 最后绘制skybox, 把skybox的深度设置为最大值1.0，
具体做法：由于透视除法在顶点着色器之后运行，
所以可将pos的z轴赋值为w，可写成 `gl_Position = pos.xyww;`;
+ 还需要将深度测试函数比较改为`GL_LEQUAL`, 即`glDepthFunc(GL_LEQUAL);`;

### 为什么最后绘制skybox这样可以起到优化效果？
+ 深度值被其他物体的深度填充完了， 现在只需要渲染通过前置深度测试的那部分天空的片段就行，
**显著减少了片段着色器的调用**（最先绘制skybox, 需要对每个像素调用片段着色器）；